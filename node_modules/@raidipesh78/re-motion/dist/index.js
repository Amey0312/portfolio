Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=0;const i=/[+-]?\d+(\.\d+)?|[\s]?\.\d+|#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/gi,n=/#[a-f\d]{3,}|transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|burntsienna|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen/gi,a={transparent:"#00000000",aliceblue:"#f0f8ffff",antiquewhite:"#faebd7ff",aqua:"#00ffffff",aquamarine:"#7fffd4ff",azure:"#f0ffffff",beige:"#f5f5dcff",bisque:"#ffe4c4ff",black:"#000000ff",blanchedalmond:"#ffebcdff",blue:"#0000ffff",blueviolet:"#8a2be2ff",brown:"#a52a2aff",burlywood:"#deb887ff",burntsienna:"#ea7e5dff",cadetblue:"#5f9ea0ff",chartreuse:"#7fff00ff",chocolate:"#d2691eff",coral:"#ff7f50ff",cornflowerblue:"#6495edff",cornsilk:"#fff8dcff",crimson:"#dc143cff",cyan:"#00ffffff",darkblue:"#00008bff",darkcyan:"#008b8bff",darkgoldenrod:"#b8860bff",darkgray:"#a9a9a9ff",darkgreen:"#006400ff",darkgrey:"#a9a9a9ff",darkkhaki:"#bdb76bff",darkmagenta:"#8b008bff",darkolivegreen:"#556b2fff",darkorange:"#ff8c00ff",darkorchid:"#9932ccff",darkred:"#8b0000ff",darksalmon:"#e9967aff",darkseagreen:"#8fbc8fff",darkslateblue:"#483d8bff",darkslategray:"#2f4f4fff",darkslategrey:"#2f4f4fff",darkturquoise:"#00ced1ff",darkviolet:"#9400d3ff",deeppink:"#ff1493ff",deepskyblue:"#00bfffff",dimgray:"#696969ff",dimgrey:"#696969ff",dodgerblue:"#1e90ffff",firebrick:"#b22222ff",floralwhite:"#fffaf0ff",forestgreen:"#228b22ff",fuchsia:"#ff00ffff",gainsboro:"#dcdcdcff",ghostwhite:"#f8f8ffff",gold:"#ffd700ff",goldenrod:"#daa520ff",gray:"#808080ff",green:"#008000ff",greenyellow:"#adff2fff",grey:"#808080ff",honeydew:"#f0fff0ff",hotpink:"#ff69b4ff",indianred:"#cd5c5cff",indigo:"#4b0082ff",ivory:"#fffff0ff",khaki:"#f0e68cff",lavender:"#e6e6faff",lavenderblush:"#fff0f5ff",lawngreen:"#7cfc00ff",lemonchiffon:"#fffacdff",lightblue:"#add8e6ff",lightcoral:"#f08080ff",lightcyan:"#e0ffffff",lightgoldenrodyellow:"#fafad2ff",lightgray:"#d3d3d3ff",lightgreen:"#90ee90ff",lightgrey:"#d3d3d3ff",lightpink:"#ffb6c1ff",lightsalmon:"#ffa07aff",lightseagreen:"#20b2aaff",lightskyblue:"#87cefaff",lightslategray:"#778899ff",lightslategrey:"#778899ff",lightsteelblue:"#b0c4deff",lightyellow:"#ffffe0ff",lime:"#00ff00ff",limegreen:"#32cd32ff",linen:"#faf0e6ff",magenta:"#ff00ffff",maroon:"#800000ff",mediumaquamarine:"#66cdaaff",mediumblue:"#0000cdff",mediumorchid:"#ba55d3ff",mediumpurple:"#9370dbff",mediumseagreen:"#3cb371ff",mediumslateblue:"#7b68eeff",mediumspringgreen:"#00fa9aff",mediumturquoise:"#48d1ccff",mediumvioletred:"#c71585ff",midnightblue:"#191970ff",mintcream:"#f5fffaff",mistyrose:"#ffe4e1ff",moccasin:"#ffe4b5ff",navajowhite:"#ffdeadff",navy:"#000080ff",oldlace:"#fdf5e6ff",olive:"#808000ff",olivedrab:"#6b8e23ff",orange:"#ffa500ff",orangered:"#ff4500ff",orchid:"#da70d6ff",palegoldenrod:"#eee8aaff",palegreen:"#98fb98ff",paleturquoise:"#afeeeeff",palevioletred:"#db7093ff",papayawhip:"#ffefd5ff",peachpuff:"#ffdab9ff",peru:"#cd853fff",pink:"#ffc0cbff",plum:"#dda0ddff",powderblue:"#b0e0e6ff",purple:"#800080ff",rebeccapurple:"#663399ff",red:"#ff0000ff",rosybrown:"#bc8f8fff",royalblue:"#4169e1ff",saddlebrown:"#8b4513ff",salmon:"#fa8072ff",sandybrown:"#f4a460ff",seagreen:"#2e8b57ff",seashell:"#fff5eeff",sienna:"#a0522dff",silver:"#c0c0c0ff",skyblue:"#87ceebff",slateblue:"#6a5acdff",slategray:"#708090ff",slategrey:"#708090ff",snow:"#fffafaff",springgreen:"#00ff7fff",steelblue:"#4682b4ff",tan:"#d2b48cff",teal:"#008080ff",thistle:"#d8bfd8ff",tomato:"#ff6347ff",turquoise:"#40e0d0ff",violet:"#ee82eeff",wheat:"#f5deb3ff",white:"#ffffffff",whitesmoke:"#f5f5f5ff",yellow:"#ffff00ff",yellowgreen:"#9acd32ff"};function s(t){const e=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return"#"+e+e+i+i+n+n}))}(t),i=function(t){return 7===t.length?t+"FF":t}(e),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:parseInt(n[4],16)/255}}function r(t){const{r:e,g:i,b:n,a:a}=t;return"#"+(256|e).toString(16).slice(1)+(256|i).toString(16).slice(1)+(256|n).toString(16).slice(1)+(255*a|256).toString(16).slice(1)}const o=(t,e,i,n)=>{const[a,s,r,o]=e;let f=t;if(f<a){if("identity"===i)return f;"clamp"===i&&(f=a)}if(f>s){if("identity"===n)return f;"clamp"===n&&(f=s)}return r===o?r:a===s?t<=a?r:o:(a===-1/0?f=-f:s===1/0?f-=a:f=(f-a)/(s-a),r===-1/0?f=-f:o===1/0?f+=r:f=f*(o-r)+r,f)},f=(t,e,i,n)=>{const[a,f,l,c]=e;if(l.length===c.length)return l.map(((e,l)=>"string"==typeof e?((t,e)=>{const[i,n,a,f]=e,l=s(a),c=s(f);return r({r:o(t,[i,n,l.r,c.r],"clamp","clamp"),g:o(t,[i,n,l.g,c.g],"clamp","clamp"),b:o(t,[i,n,l.b,c.b],"clamp","clamp"),a:o(t,[i,n,l.a,c.a],"clamp","clamp")})})(t,[a,f,e,c[l]]):o(t,[a,f,e,c[l]],i,n)));throw new Error("Array length doesn't match")},l=t=>t.replace(i,"$"),c=t=>t.match(i).map((t=>-1!==t.indexOf("#")?t:Number(t))),u=t=>t.replace(n,(function(t){if(-1!==t.indexOf("#"))return r(s(t));if(Object.prototype.hasOwnProperty.call(a,t))return a[t];throw new Error("String cannot be parsed!")}));function d(t,e,i){return function(n){const a=null==i?void 0:i.extrapolate,s=null==i?void 0:i.extrapolateLeft,r=null==i?void 0:i.extrapolateRight,d=function(t,e,i){const n=e.length;let a=[];t<e[0]?a=[e[0],e[1],i[0],i[1]]:t>e[n-1]&&(a=[e[n-2],e[n-1],i[n-2],i[n-1]]);for(let s=1;s<n;++s)if(t<=e[s]){a=[e[s-1],e[s],i[s-1],i[s]];break}return a}(n,t,e);let h="extend";void 0!==s?h=s:void 0!==a&&(h=a);let p="extend";if(void 0!==r?p=r:void 0!==a&&(p=a),e.length){if("number"==typeof e[0])return o(n,d,h,p);if(Array.isArray(e[0]))return f(n,d,h,p);{const[t,e,i,a]=d,s=u(i),r=u(a);let o=l(s);if(m=r,l(s).trim().replace(/\s/g,"")===l(m).trim().replace(/\s/g,"")){const i=c(s),a=c(r),l=f(n,[t,e,i,a],h,p);for(const t of l)o=o.replace("$",t);return o}throw new Error("Output range doesn't match string format!")}}throw new Error("Output range cannot be Empty");var m}}class h{get(){}attach(){}detach(){}addSubscription(t){}removeSubscription(t){}}class p extends h{constructor(){super(...arguments),this.subcriptions=[]}addSubscription(t){0===this.subcriptions.length&&this.attach(),this.subcriptions.push(t)}removeSubscription(t){const e=this.subcriptions.indexOf(t);-1!==e?(this.subcriptions.splice(e,1),0===this.subcriptions.length&&this.detach()):console.warn("Trying to remove a child that doesn't exist")}getSubscriptions(){return this.subcriptions}}class m extends p{constructor(t,e){super(),this.parent=t,this.interpolate=e}get(){const t=this.parent.get();if("number"!=typeof t)throw new Error("Cannot interpolate value");return this.interpolate(t)}attach(){this.parent.addSubscription(this)}detach(){this.parent.removeSubscription(this)}}class g extends p{constructor(t){super(),this.startingValue=this.value=t,this.listeners={}}updateValue(t){for(var e in this.value=t,function(t){const e=new Set,i=t=>{"function"==typeof t.update?e.add(t):t.getSubscriptions().forEach(i)};i(t),e.forEach((t=>t.update()))}(this),this.listeners)this.listeners[e](this.get())}get(){return this.value}detach(){this.stopAnimation()}stopAnimation(t){var e;this.stopTrack(),null===(e=this.animation)||void 0===e||e.stop(),this.animation=null,t&&t(this.get())}resetAnimation(t){this.stopAnimation(t),this.value=this.startingValue}animate(t,e,i){var n,a;const s=this.animation;null===(n=this.animation)||void 0===n||n.stop(),this.animation=t,null===(a=null==i?void 0:i.onStart)||void 0===a||a.call(i,this.value),t.start(this.value,(t=>{var e;this.updateValue(t),null===(e=null==i?void 0:i.onChange)||void 0===e||e.call(i,t)}),(t=>{var n,a;null===(n=this.animation)||void 0===n||n.stop(),e&&e(t),null===(a=null==i?void 0:i.onRest)||void 0===a||a.call(i,t.value)}),s)}interpolate(t,e,i){return new m(this,d(t,e,i))}startTrack(t){this.stopTrack(),this.track=t}stopTrack(){this.track&&this.track.detach(),this.track=null}addListener(t){const i=String(e++);return this.listeners[i]=t,i}removeListener(t){delete this.listeners[t]}removeAllListeners(){this.listeners={}}}class b extends p{constructor(t){super(),this.style=t}attach(){for(const t of Object.values(this.style))t instanceof h&&t.addSubscription(this)}detach(){for(const t of Object.entries(this.style))t instanceof h&&t.removeSubscription(this)}get(){const t={};for(const[e,i]of Object.entries(this.style))t[e]=i instanceof h?i.get():i;return t}}class v extends h{constructor(t,e){super(),t.style&&(t=Object.assign(Object.assign({},t),{style:new b(t.style)})),this.props=t,this.callback=e}attach(){for(const t of Object.values(this.props))t instanceof h&&t.addSubscription(this)}detach(){for(const t of Object.entries(this.props))t instanceof h&&t.removeSubscription(this)}get(){const t={};for(const[e,i]of Object.entries(this.props))t[e]=i instanceof h?i.get():i;return t}update(){this.callback()}}const y=["borderImageOutset","borderImageSlice","borderImageWidth","fontWeight","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","order","lineClamp"];const w=["perspective","translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"];function k(t){const e=t.match(/(-)?(\d+.)?\d+/g),i=t.match(/px|rem|em|ex|%|cm|mm|in|pt|pc|ch|vh|vw|vmin|vmax/);return{value:Number(e),unit:i&&i[0]}}function x(t,e){const i=function(t,e){let i;const n=k(String(e)).value,a=k(String(e)).unit;return a?{value:n,unit:a}:(t.includes("translate")||t.includes("perspective")?i="px":t.includes("scale")?i="":(t.includes("rotate")||t.includes("skew"))&&(i="deg"),{value:e,unit:i})}(t,e);if(t.includes("X")||t.includes("Y")||t.includes("Z")||t.includes("perspective")||t.includes("rotate")||t.includes("skew")||t.includes("scale"))return`${t}(${i.value}${i.unit})`;if(t.includes("translate")||t.indexOf("scale"))return`${t}(${i.value}${i.unit}, ${i.value}${i.unit})`;throw new Error(`Error! Property '${t}' cannot be transformed`)}function O(t){return Object.entries(t).map((([t,e])=>x(t,e))).reduce(((t,e)=>t+` ${e}`),"").trim()}function S(t){return Object.entries(t).reduce(((t,[e,i])=>{var n;return n=e,w.includes(n)?t.transformStyle[e]=i:t.nonTransformStyle[e]=i,t}),{transformStyle:{},nonTransformStyle:{}})}function T(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]])}return i}function V(t,e){const{nonTransformStyle:i,transformStyle:n}=S(e);t.current.style.transform=O(n),Object.entries(i).forEach((([e,i])=>{t.current.style[e]=function(t,e){let i;return i="number"==typeof e?y.includes(t)?e:e+"px":e,i}(e,i)}))}function A(t,e){if(!t.current)return;const{style:i={}}=e,n=T(e,["style"]);V(t,i),function(t,e){Object.entries(e).forEach((([e,i])=>{t.current.setAttribute(e.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase())),i)}))}(t,n)}function F(e){return t.forwardRef(((i,n)=>{const a=t.useRef(null),s=t.useRef(null);t.useLayoutEffect((()=>(s.current=new v(i,(()=>{a&&s.current&&A(a,s.current.get())})),s.current.attach(),()=>{var t;return null===(t=s.current)||void 0===t?void 0:t.detach()})),[]);const r=t.useMemo((()=>function(t){const e=new v(t,(()=>{})).get(),{style:i={}}=e,n=T(e,["style"]),{nonTransformStyle:a,transformStyle:s}=S(i);return Object.assign(Object.assign({},n),{style:Object.assign(Object.assign({},a),{transform:O(s)})})}(i)),[i]);return t.createElement(e,Object.assign(Object.assign({},r),{ref:E(a,n)}))}))}function E(...t){return function(e){t.forEach((t=>{t&&("function"!=typeof t?"current"in t&&(t.current=e):t(e))}))}}const j={};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noindex","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","small","source","span","strong","style","sub","summary","sup","table","template","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","svg","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","tspan","use","view"].forEach((t=>{j[t]=F(t)}));var q=4,M=1e-7,C=10,D=.1,I="function"==typeof Float32Array;function P(t,e){return 1-3*e+3*t}function $(t,e){return 3*e-6*t}function R(t){return 3*t}function L(t,e,i){return((P(e,i)*t+$(e,i))*t+R(e))*t}function U(t,e,i){return 3*P(e,i)*t*t+2*$(e,i)*t+R(e)}function z(t){return t}function G(t,e,i,n){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===n)return z;for(var a=I?new Float32Array(11):new Array(11),s=0;s<11;++s)a[s]=L(s*D,t,i);function r(e){for(var n=0,s=1;10!==s&&a[s]<=e;++s)n+=D;--s;var r=n+(e-a[s])/(a[s+1]-a[s])*D,o=U(r,t,i);return o>=.001?function(t,e,i,n){for(var a=0;a<q;++a){var s=U(e,i,n);if(0===s)return e;e-=(L(e,i,n)-t)/s}return e}(e,r,t,i):0===o?r:function(t,e,i,n,a){var s,r,o=0;do{(s=L(r=e+(i-e)/2,n,a)-t)>0?i=r:e=r}while(Math.abs(s)>M&&++o<C);return r}(e,n,n+D,t,i)}return function(t){return 0===t||1===t?t:L(r(t),e,n)}}class X{static step0(t){return t>0?1:0}static step1(t){return t>=1?1:0}static linear(t){return t}static ease(t){return Y(t)}static quad(t){return t*t}static cubic(t){return t*t*t}static poly(t){return e=>Math.pow(e,t)}static sin(t){return 1-Math.cos(t*Math.PI/2)}static circle(t){return 1-Math.sqrt(1-t*t)}static exp(t){return Math.pow(2,10*(t-1))}static elastic(t=1){var e=t*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*e)}static back(t){return void 0===t&&(t=1.70158),e=>e*e*((t+1)*e-t)}static bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}static bezier(t,e,i,n){return G(t,e,i,n)}static in(t){return t}static out(t){return e=>1-t(1-e)}static inOut(t){return e=>e<.5?t(2*e)/2:1-t(2*(1-e))/2}}var Y=X.bezier(.42,0,1,1);class Z{start(t,e,i,n){}stop(){}debouncedOnEnd(t){const e=this.onEnd;this.onEnd=null,e&&e(t)}}class N extends Z{constructor(t){var e,i,n;super(),this.toValue=t.toValue,this.duration=null!==(e=null==t?void 0:t.duration)&&void 0!==e?e:500,this.easing=null!==(i=null==t?void 0:t.easing)&&void 0!==i?i:X.linear,this.delay=null!==(n=null==t?void 0:t.delay)&&void 0!==n?n:0}start(t,e,i,n){const a=()=>{this.isActive=!0,this.fromValue=this.position=t,this.onFrame=e,this.onEnd=i,n&&n instanceof N&&n.toValue===this.toValue&&n.startTime?(this.startTime=n.startTime,this.fromValue=n.fromValue):(this.startTime=Date.now(),this.fromValue=this.position),this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this))};0!==this.delay?this.timeout=setTimeout((()=>a()),this.delay):a()}stop(){this.isActive=!1,clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.debouncedOnEnd({finished:!1,value:this.position})}onUpdate(){const t=Date.now()-this.startTime;if(t>=this.duration)return this.startTime=0,this.position=this.toValue,this.onFrame(this.position),void this.debouncedOnEnd({finished:!0,value:this.position});const e=this.easing(t/this.duration);this.position=this.fromValue+(this.toValue-this.fromValue)*e,this.onFrame(this.position),this.isActive&&(this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}}class B extends h{constructor(t,e,i,n,a,s){super(),this.value=t,this.parent=e,this.AnimationClass=i,this.animationConfig=n,this.callback=a,this.handlers=s,this.attach()}attach(){this.parent.addSubscription(this)}detach(){this.parent.removeSubscription(this)}update(){this.value.animate(new this.AnimationClass(Object.assign(Object.assign({},this.animationConfig),{toValue:this.animationConfig.toValue.get()}),this.callback,this.handlers))}}const W=(t,e)=>({start:i=>{const n={onStart:null==e?void 0:e.onStart,onChange:null==e?void 0:e.onChange,onRest:null==e?void 0:e.onRest};t.stopTrack(),e.toValue instanceof h?t.startTrack(new B(t,e.toValue,N,e,i)):t.animate(new N(Object.assign(Object.assign({},e),{toValue:e.toValue})),i,n)},stop:()=>{t.stopAnimation()},reset:()=>{t.resetAnimation()}});class _ extends Z{constructor(t){var e,i,n,a,s;super(),this.start=(t,e,i,n)=>{const a=()=>{if(this.isActive=!0,this.position=t,this.onFrame=e,this.onEnd=i,this.startTime=Date.now(),n instanceof _){const t=n.getInternalState();this.position=t.position||this.position,this.velocity=t.velocity||this.velocity||0,this.startTime=t.startTime||Date.now()}this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this))};0!==this.delay?this.timeout=setTimeout((()=>a()),this.delay):a()},this.restDisplacementThreshold=this.restSpeedThreshold=null!==(e=null==t?void 0:t.restDistance)&&void 0!==e?e:.001,this.velocity=0,this.toValue=t.toValue,this.mass=null!==(i=null==t?void 0:t.mass)&&void 0!==i?i:1,this.tension=null!==(n=null==t?void 0:t.tension)&&void 0!==n?n:170,this.friction=null!==(a=null==t?void 0:t.friction)&&void 0!==a?a:26,this.delay=null!==(s=null==t?void 0:t.delay)&&void 0!==s?s:0}getInternalState(){return{position:this.position,velocity:this.velocity,startTime:this.startTime}}stop(){this.isActive=!1,clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.debouncedOnEnd({finished:!1,value:this.position})}onUpdate(){const t=Date.now(),e=Math.min(t-this.startTime,64);this.startTime=t;const i=this.friction,n=this.mass,a=this.tension,s=-this.velocity,r=this.toValue-this.position,o=i/(2*Math.sqrt(a*n)),f=Math.sqrt(a/n),l=f*Math.sqrt(1-Math.pow(o,2)),c=e/1e3,u=Math.sin(l*c),d=Math.cos(l*c),h=Math.exp(-o*f*c),p=h*(u*((s+o*f*r)/l)+r*d),m=this.toValue-p,g=o*f*p-h*(d*(s+o*f*r)-l*r*u),b=Math.exp(-f*c),v=this.toValue-b*(r+(s+f*r)*c),y=b*(s*(c*f-1)+c*r*f*f);this.onFrame(this.position);const w=Math.abs(this.velocity)<this.restSpeedThreshold,k=0===this.tension||Math.abs(this.toValue-this.position)<this.restDisplacementThreshold;if(o<1?(this.position=m,this.velocity=g):(this.position=v,this.velocity=y),w&&k)return 0!==this.tension&&(this.velocity=0,this.position=this.toValue,this.onFrame(this.position)),this.startTime=0,void this.debouncedOnEnd({finished:!0,value:this.toValue});this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}class H extends Z{constructor(t){var e,i,n;super(),this.deceleration=null!==(e=null==t?void 0:t.deceleration)&&void 0!==e?e:.998,this.velocity=null!==(i=null==t?void 0:t.velocity)&&void 0!==i?i:0,this.delay=null!==(n=null==t?void 0:t.delay)&&void 0!==n?n:0}start(t,e,i,n){const a=()=>{this.isActive=!0,this.fromValue=this.position=this.lastPosition=t,this.onFrame=e,this.onEnd=i,this.startTime=Date.now(),n instanceof H&&(this.velocity=n.velocity,this.deceleration=n.deceleration),this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this))};0!==this.delay?this.timeout=setTimeout((()=>a()),this.delay):a()}stop(){this.isActive=!1,clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.debouncedOnEnd({finished:!1,value:this.position})}onUpdate(){const t=Date.now();this.position=this.fromValue+this.velocity/(1-this.deceleration)*(1-Math.exp(-(1-this.deceleration)*(t-this.startTime))),Math.abs(this.lastPosition-this.position)<.1?this.debouncedOnEnd({finished:!0,value:this.position}):(this.onFrame(this.position),this.lastPosition=this.position,this.isActive&&(this.animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}}const J=function(t){return W(new g(0),{toValue:0,delay:t,duration:0})},K=function(t,e){var i;const n={},a=null===(i=null==e?void 0:e.stopTogether)||void 0===i||i;let s=0;const r=()=>{t.forEach(((t,e)=>{!n[e]&&t.stop(),n[e]=!0}))};return{start:e=>{s!==t.length?t.forEach(((i,o)=>{const f=i=>{if(n[o]=!0,s++,s===t.length)return s=0,void(e&&e(i));!i.finished&&a&&r()};i?i.start(f):f({finished:!0})})):e&&e({finished:!0})},stop:r,reset:()=>{t.forEach(((t,e)=>{t.reset(),n[e]=!1,s=0}))}}},Q=function(t){let e=0;return{start:i=>{const n=function(a){a.finished?(e++,e!==t.length?t[e].start(n):i&&i(a)):i&&i(a)};0===t.length?i&&i({finished:!0}):t[e].start(n)},stop:()=>{e<t.length&&t[e].stop()},reset:()=>{t.forEach(((t,i)=>{i<=e&&t.reset()})),e=0}}};exports.Easing=X,exports.FluidValue=g,exports.decay=(t,e)=>({start:i=>{const n={onStart:null==e?void 0:e.onStart,onChange:null==e?void 0:e.onChange,onRest:null==e?void 0:e.onRest};t.stopTrack(),t.animate(new H(e),i,n)},stop:()=>{t.stopAnimation()},reset:()=>{t.resetAnimation()}}),exports.delay=J,exports.fluid=j,exports.loop=function(t,e){var i;const n=null!==(i=null==e?void 0:e.iterations)&&void 0!==i?i:-1;let a=!1,s=0;return{start:e=>{const i=(r={finished:!0})=>{a||s===n||!1===r.finished?e&&e(r):(s++,t.reset(),t.start(i))};t&&0!==n?i():e&&e({finished:!0})},stop:()=>{a=!0,t.stop()},reset:()=>{s=0,a=!1,t.reset()}}},exports.makeFluid=F,exports.native=(t,e)=>({start:i=>{t.animate(new class extends Z{constructor(t){var e;super(),this.toValue=t.toValue,this.delay=null!==(e=t.delay)&&void 0!==e?e:0}start(t,e,i){const n=()=>{this.fromValue=t,this.onFrame=e,this.onEnd=i,requestAnimationFrame(this.onUpdate.bind(this)),this.fromValue};0!==this.delay?this.timeout=setTimeout((()=>n()),this.delay):n()}stop(){clearTimeout(this.timeout),this.debouncedOnEnd({finished:!1,value:this.toValue})}onUpdate(){this.debouncedOnEnd({finished:!0,value:this.toValue}),this.onFrame(this.toValue)}}(e),i)},stop:()=>{t.stopAnimation()},reset:()=>{t.resetAnimation()}}),exports.parallel=K,exports.sequence=Q,exports.spring=(t,e)=>({start:i=>{const n={onStart:null==e?void 0:e.onStart,onChange:null==e?void 0:e.onChange,onRest:null==e?void 0:e.onRest};t.stopTrack(),e.toValue instanceof h?t.startTrack(new B(t,e.toValue,_,e,i)):t.animate(new _(Object.assign(Object.assign({},e),{toValue:e.toValue})),i,n)},stop:()=>{t.stopAnimation()},reset:()=>{t.resetAnimation()}}),exports.stagger=function(t,e){return K(e.map(((e,i)=>Q([J(t*i),e]))))},exports.timing=W;
//# sourceMappingURL=index.js.map
